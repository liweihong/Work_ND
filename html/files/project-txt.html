<html><head><title>Description - Research Projects</title><link rel="stylesheet" type="text/css" href="../styles/main.css"><script language=JavaScript src="../javascript/main.js"></script></head><body class="FramedContentPage" onLoad="NDOnLoad()"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.4 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CFile"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="Description"></a>Description</h1><div class=CBody><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#Description" >Description</a></td><td class=SDescription></td></tr><tr class="SGroup"><td class=SEntry><a href="#LLVMCLANG_Tools" >LLVM &amp; CLANG Tools</a></td><td class=SDescription><b>Resources</b></td></tr><tr class="SGroup"><td class=SEntry><a href="#GIRA_Related" >GIRA Related</a></td><td class=SDescription>All projects related to CIL or C++ projects</td></tr><tr class="SGroup"><td class=SEntry><a href="#Experiments" >Experiments</a></td><td class=SDescription>Things related to regression and experiments</td></tr><tr class="SGeneric SIndent1 SMarked"><td class=SEntry><a href="#Run_Merged_Code" >Run Merged Code</a></td><td class=SDescription>Merged code and SpecTackle</td></tr><tr class="SGroup"><td class=SEntry><a href="#MPI_Related" >MPI Related</a></td><td class=SDescription>All projects related to MPI based distributed system.</td></tr><tr class="SGeneric SIndent1 SMarked"><td class=SEntry><a href="#Distributed_BMC" >Distributed BMC</a></td><td class=SDescription>~/Projects/MPI/FSoft_MPI</td></tr><tr class="SGeneric SIndent1"><td class=SEntry><a href="#HVC_DEMO" >HVC DEMO</a></td><td class=SDescription>~/Projects/MPI/HVC08-EXP-demo-hunters</td></tr><tr class="SGroup"><td class=SEntry><a href="#FUSION_Related" >FUSION Related</a></td><td class=SDescription>All projects related to dynamic analysis of concurrent(pthread) programs.</td></tr><tr class="SGeneric SIndent1 SMarked"><td class=SEntry><a href="#Pthread_Checking" >Pthread Checking</a></td><td class=SDescription>~/Projects/ACME</td></tr><tr class="SGeneric SIndent1"><td class=SEntry><a href="#API_based_smt_checking" >API based smt checking</a></td><td class=SDescription>~/Projects/ACME/csv/src/cpg</td></tr><tr class="SGeneric SIndent1 SMarked"><td class=SEntry><a href="#Visualization_via_dotty" >Visualization via dotty</a></td><td class=SDescription>~/Projects/ACME/inspect-cmk/bin and ~/Projects/Scripts/ACME/*.pl</td></tr><tr class="SGeneric SIndent1"><td class=SEntry><a href="#CPG_CFG" >CPG_CFG</a></td><td class=SDescription>~/Projects/ACME/csv/src/cpg</td></tr><tr class="SGroup"><td class=SEntry><a href="#Witness_Generation_Related" >Witness Generation Related</a></td><td class=SDescription>All projects related to tbench package.</td></tr><tr class="SGeneric SIndent1 SMarked"><td class=SEntry><a href="#TBench_for_C++code" >TBench for C++ code.</a></td><td class=SDescription><b>Issues:</b></td></tr><tr class="SGeneric SIndent1"><td class=SEntry><a href="#TBench_of_final_model" >TBench of final model</a></td><td class=SDescription>~/Projects/CFG_TBench_Load/diver</td></tr><tr class="SGeneric SIndent1 SMarked"><td class=SEntry><a href="#Witness_Generation_for_Static_Analysis" >Witness Generation for Static Analysis</a></td><td class=SDescription>~/Projects/BUG_FIX_TI_178/diver/src</td></tr><tr class="SGeneric SIndent1"><td class=SEntry><a href="#Witness_Generation_for_TESSA" >Witness Generation for TESSA</a></td><td class=SDescription>~/Projects/CFG_Serialization/diver_tessa/src/ and ~/Projects/FRANJO/diver/src</td></tr><tr class="SGeneric SIndent1 SMarked"><td class=SEntry><a href="#Func_Call_Statistics" >Func Call Statistics</a></td><td class=SDescription>~/Projects/BUG_FIX_TI_178/diver/</td></tr><tr class="SGeneric SIndent1"><td class=SEntry><a href="#Weakest_Precondition_Simplification" >Weakest Precondition Simplification</a></td><td class=SDescription>~/Projects/BUG_FIX_TI_178/bugs/summary</td></tr><tr class="SGroup"><td class=SEntry><a href="#SA_New_Features" >SA New Features</a></td><td class=SDescription>All projects related to enhance SA.</td></tr><tr class="SGeneric SIndent1 SMarked"><td class=SEntry><a href="#Sync_branch_3.0_New_Feature" >Sync_branch 3.<wbr>0 New Feature</a></td><td class=SDescription>/storage/weihong/Projects/varvel_sync/sync_branch3.0/</td></tr><tr class="SGeneric SIndent1"><td class=SEntry><a href="#CFG_Serialization" >CFG Serialization</a></td><td class=SDescription>~/Projects/CFG_Serialization/diver</td></tr><tr class="SGeneric SIndent1 SMarked"><td class=SEntry><a href="#PI_CONST_FOLDING" >PI CONST FOLDING</a></td><td class=SDescription>~/Projects/Sriram_LU_Slice/diver</td></tr><tr class="SGeneric SIndent1"><td class=SEntry><a href="#LOOP_UNROLLING" >LOOP UNROLLING</a></td><td class=SDescription>~/Projects/Sriram_LU_Slice/diver</td></tr><tr class="SGeneric SIndent1 SMarked"><td class=SEntry><a href="#HBMC_PBPG" >HBMC PB &amp; PG</a></td><td class=SDescription>~/Projects/Malay_Context/diver</td></tr><tr class="SGroup"><td class=SEntry><a href="#HBMC_and_MIX_Integration" >HBMC and MIX Integration</a></td><td class=SDescription>~/Projects/hunters_SMT_MIX/diver</td></tr><tr class="SGroup"><td class=SEntry><a href="#Varvel_Related" >Varvel Related</a></td><td class=SDescription>/storage/weihong/Projects/varvel_sync/sync_branch/</td></tr><tr class="SGeneric SIndent1 SMarked"><td class=SEntry><a href="#Source_Control" >Source Control</a></td><td class=SDescription>refer to /storage/weihong/subversion/backups/scripts/*.sh</td></tr><tr class="SGeneric SIndent1"><td class=SEntry><a href="#HBMC" >HBMC</a></td><td class=SDescription>/storage/weihong/Projects/varvel_sync/sync_naxos/sync_branch</td></tr><tr class="SGroup"><td class=SEntry><a href="#Bug_Fixing_Related" >Bug Fixing Related</a></td><td class=SDescription>Fix the trac bugs in twiki page.</td></tr><tr class="SGeneric SIndent1 SMarked"><td class=SEntry><a href="#Trac_792" >Trac 792</a></td><td class=SDescription>/home/st/weihong/Projects/BUG_FIX_TI_178/bugs</td></tr><tr class="SGeneric SIndent1"><td class=SEntry><a href="#TBench_source_file_missing" >TBench source file missing</a></td><td class=SDescription>refer to /home/st/weihong/Projects/CFG_TBench_Load/bugs/fsoft_A_gfsctl/main</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="LLVMCLANG_Tools"></a>LLVM &amp; CLANG Tools</h3><div class=CBody><p><b>Resources</b></p><p><a href="http://www.therareair.com/2008/09/26/tutorial-how-to-static-analyze-your-objective-c-code-using-the-clang-static-analyzer-tool/" class=LURL target=_top>http://www.therareair.com<wbr>/2008<wbr>/09<wbr>/26<wbr>/tutorial-how-to-static-analyze-your-objective-c-code-using-the-clang-static-analyzer-tool<wbr>/</a></p><p><a href="http://d5/grouponly/public_html/2011-04-07-5/" class=LURL target=_top>http://d5/grouponly/public_html/2011-04-07-5/</a></p><p>The installed machine is vd2.</p><p>The installed folder: /testing/results/weihong/tools/Clang.</p><p>To run the tool: &ldquo;scan-build -o results -v gcc -c array2.c memory2.c&rdquo;</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="GIRA_Related"></a>GIRA Related</h3><div class=CBody><p>All projects related to CIL or C++ projects</p><blockquote><pre></pre></blockquote><p><b>Locations:</b></p><p>/home/st/weihong/Projects/GIRA</p><p>/testing/results/weihong/sync_branch/sync_branch_gira_tbench/</p><blockquote><pre></pre></blockquote><p><b>Experiments:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>local function examples</td><td class=CDLDescription>~/Projects/GIRA/examples/</td></tr><tr><td class=CDLEntry>benchmarks</td><td class=CDLDescription>/testing/results/naoto/prakash/paper-samples</td></tr><tr><td class=CDLEntry>local real examples</td><td class=CDLDescription>/testing/results/weihong/debug/tbench_memleak_naoto -- /testing/results/naoto/prakash/paper-samples/ex1-bintree-duplicate/fsoft-exp/main</td></tr><tr><td class=CDLEntry>local toy examples</td><td class=CDLDescription>~/Projects/GIRA/tbench/test</td></tr></table><blockquote><pre></pre></blockquote><p><b>Goal:</b></p><p>What are the meaning information to SHOW to users</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Exceptions</td><td class=CDLDescription>show witness at both throw and catch location.</td></tr><tr><td class=CDLEntry>Virtual Functions</td><td class=CDLDescription>show example functions causing the bug.</td></tr><tr><td class=CDLEntry>Object Hierarchy (Inheritance)</td><td class=CDLDescription>show constructor/destructor etc.</td></tr><tr><td class=CDLEntry>Examples</td><td class=CDLDescription>~/Projects/GIRA/examples/</td></tr></table><blockquote><pre></pre></blockquote><p><b>Main issues:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>some bugs are detected at the chromed code where there is no explicit code in targe code. solution: show some indication at constuctor, destructor, function return, exception throw where implicit code are executed automatically.&nbsp; Also, show a symbol around with an hyperlink saying the principle of the c++ code.</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>some assignment in path slicing are introduced by chrome model, such as switch for choosing correct class or virtual functions. solution: these assignments should not be shown in HTML.</td></tr><tr><td class=CDLEntry>3.</td><td class=CDLDescription>the names of member functions of classes are mangled, needs to be demangled.</td></tr></table><blockquote><pre></pre></blockquote><p><b>Other issues:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>in the ex, /home/st/weihong/Projects/GIRA/examples/virt_func/ex1, the virtual functions of both parent and derived class are called.</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>for the ex in 1., the witness trace shows a line # which is beyond the whole array.cpp.</td></tr><tr><td class=CDLEntry>3.</td><td class=CDLDescription>in the drop-down menu [info], xxx is type of NUM: replace NUM with a string.</td></tr></table><blockquote><pre></pre></blockquote><p><b>Repositories:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>gira_edg</td><td class=CDLDescription><a href="file:///home/st/bgogul/repos/projects/gira/trunk/gira" class=LURL target=_top>file:///home<wbr>/st<wbr>/bgogul<wbr>/repos<wbr>/projects<wbr>/gira<wbr>/trunk<wbr>/gira</a></td></tr><tr><td class=CDLEntry>cil_cpp</td><td class=CDLDescription><a href="file:///storage/forInterns/cilpp" class=LURL target=_top>file:///storage/forInterns/cilpp</a></td></tr></table><blockquote><pre></pre></blockquote><p><b>Building:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>gira_edg</td><td class=CDLDescription>src/ocamlinterface, this is for building libraries.</td></tr><tr><td class=CDLEntry>gira_edg</td><td class=CDLDescription>src/Makefile, this is for building stand-alone ?</td></tr><tr><td class=CDLEntry>cil_cpp</td><td class=CDLDescription>copy the gira libraries into ocaml-cilpp/giraocxltr; set LD_LIBRARY_PATH; go to cil-1.x.x; configure the cil_cpp using configCMD; try bin/cilly or obj/x86_LINUX/cilly.asm.exe</td></tr></table><blockquote><pre></pre></blockquote><p><b>Running GIRA:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>if the target code contains header, such as &lt;iostream&gt;, using &ldquo;g++ -E cpp_test.cpp &gt; cpp_test.whole.cpp&rdquo;</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>generate lowered code: &ldquo;cilly --nokeepunused --chrome --enableCompilation --coutputmode --out=cpp_test.chrome.c cpp_test.whole.cpp&rdquo;; or &ldquo;cilly.asm.exe --nokeepunused --chrome --enableCompilation --coutputmode --out cpp_test.chrome.c cpp_test.cpp&rdquo;</td></tr></table><blockquote><pre></pre></blockquote><p><b>Messages:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>Unbounded package, e.g., this package is not found.&nbsp; Reason: upgrade from 1.1 --&gt; 1.5</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>The Makefile of gira_edg is for 64 bits machine, change it for 32 bits.</td></tr></table></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Experiments"></a>Experiments</h3><div class=CBody><p>Things related to regression and experiments</p></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Run_Merged_Code"></a>Run Merged Code</h3><div class=CBody><p>Merged code and SpecTackle</p><p>1.&nbsp; Generate merged code using makeCapture (Nadia and Gogul)</p><p>2.&nbsp; Adding stubs to merged code diver/src/script/makeRTV.rb (d2) -p(s/m/a) rtv-p...</p><p>3.&nbsp; Generate preconditions for checkers except memory leak checker ~nmaeda/work/SpecTackle/trunk/bin/cilly (Varvel&rsquo;s spectackle is ok too) --do-spec --fsoftFile=specP.h rtv-p...</p><p>4.&nbsp; Check results ~nmaeda/bin/inv.rb (check failures) ~nmaeda/bin/witf.rb (generate html report) ~nmaeda/bin/remove_dup_wit.rb (remove duplicated bugs)</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="MPI_Related"></a>MPI Related</h3><div class=CBody><p>All projects related to MPI based distributed system.</p><p><a href="file:///home/st/weihong/Projects/MPI/NEC-MPAPI/html/index.html" class=LURL target=_top>file:///home<wbr>/st<wbr>/weihong<wbr>/Projects<wbr>/MPI<wbr>/NEC-MPAPI<wbr>/html<wbr>/index.html</a></p></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Distributed_BMC"></a>Distributed BMC</h3><div class=CBody><p>~/Projects/MPI/FSoft_MPI</p><h4 class=CHeading>1.&nbsp; Make it compiled with fsoft</h4><p>There are some conflict between fsoft libmem.a library and MPI memory management.&nbsp; To solve this problem, redefine the mem related funcs in share/memory/ptmalloc/ptmalloc.h and  share/memory/ptmalloc2/malloc.h and regenerated LAM-7.1.2</p><h4 class=CHeading>2.&nbsp; The Sync_branch related</h4><p>The location is &ldquo;/storage/weihong/Projects/varvel_sync/sync_branch3.0_para/&rdquo;.</p><p>The problem is &ldquo;MC failed because of signal 11&rdquo;.</p><p>Try to debug it using gdb by attach gdb to model_check after &ldquo;sleep()&rdquo; for a while.</p><p>The problem is it did not work out with fork() to debug child process.</p><h4 class=CHeading>3.&nbsp; Witness Generation for distributed MPI</h4><p>The un-completed project is located at &ldquo;~/FSoft&rdquo;</p><p>The idea is to do it in a batch way, check out fsoft_fl_cfg, and rename the witness filename based on the client id.</p><p>Check out the mpi_witness.sh at ~/Projects/MPI/FSoft_MPI/bugs/A_Hui_Cmn_VoiceRecog_String_Check</p><h4 class=CHeading>4.&nbsp; Bug fixing</h4><p><b>The issue of Out of Memory of Reallocating 1M bytes</b></p><p>The problem is due to ut_realloc/realloc, it was failed on realloc(1M), but ok on realloc(2M/0.5M), or alloc(1M).&nbsp; Fixed this in ut_realloc() by checking the return value of c.</p><p>The example can be found at ~/Projects/MPI/FSoft_MPI/diver/BMC_NF_PARA/Hui_Cmn_VoiceRecog_DicRegist_tmp, the command is [mpirun -x MPI_MAPPED_HEAP_SIZE=1000000000 n0,1,2,2,2,2,3,4,5 /home/st/weihong/Projects/MPI/FSoft_MPI/diver/verisol -f /home/st/weihong/Projects/MPI/FSoft_MPI/diver/BMC_NF_PARA/fsoft_fl_para.vrf]</p></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="HVC_DEMO"></a>HVC DEMO</h3><div class=CBody><p>~/Projects/MPI/HVC08-EXP-demo-hunters</p><blockquote><pre></pre></blockquote><p>check out the xa_ftp and run_ftp4.&nbsp; The useful evironment var is $LAMRANK</p><p>check out the ~/Projects/DiVer_CVS/gui/ACEGUI/DemoGui.java for merging the 2 pics to 1. setOpaque().</p><p>A Java demo with MPI settings</p><p><b>new location: /testing/results/malay_exp/HVC08-EXP-demo</b></p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="FUSION_Related"></a>FUSION Related</h3><div class=CBody><p>All projects related to dynamic analysis of concurrent(pthread) programs.</p></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Pthread_Checking"></a>Pthread Checking</h3><div class=CBody><p>~/Projects/ACME</p><blockquote><pre></pre></blockquote><h4 class=CHeading>1.&nbsp; Basic Building Process</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Instrument</td><td class=CDLDescription>instrument-fusion example.c</td></tr><tr><td class=CDLEntry>Compile</td><td class=CDLDescription>compile-fusion example.instr.c</td></tr><tr><td class=CDLEntry>Combined</td><td class=CDLDescription>fcpxlate_edg4_0/bin/fusion-cc --c --input barrier01.c --savetmp -D_POSIX_C_SOURCE=200907L; the output is target and target.instr.c</td></tr><tr><td class=CDLEntry>In a nutshell</td><td class=CDLDescription>define _GNU_SOURCE as in /usr/include/features.h, which will include everything for GNU extension. g++ -pthread *.c have _GNU_SOURCE automatically, and -DXOPEN_SOURCE=600 will work for pthread also.</td></tr></table><h4 class=CHeading>2.&nbsp; Run the target</h4><p>inspect ./target</p><p>Options</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>maxruns</td><td class=CDLDescription>the number of runs</td></tr><tr><td class=CDLEntry>&rdquo;-v 0&rdquo; | &ldquo;--targetTrace&rdquo;</td><td class=CDLDescription>the backend and frontend output verbosity control</td></tr><tr><td class=CDLEntry>&rdquo;--race&rdquo;</td><td class=CDLDescription>stop when data race is detected</td></tr><tr><td class=CDLEntry>&rdquo;--watchObj&rdquo;</td><td class=CDLDescription>keep going when data race happend (just a warning)</td></tr></table><h4 class=CHeading>3.&nbsp; Regression</h4><p>under regression/Makefile</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>CHECK_EXAMPLES</td><td class=CDLDescription>add new examples under this var</td></tr></table><h4 class=CHeading>4.&nbsp; Add spinlock/rwlock/barrier</h4><p>the following are the steps for change</p><p>*. inspect-cmk/cil-1.3.6/inspect/fusion.ml,inpsect.ml, change the name of pthread APIs.</p><p>*. inspect-cmk/src/inspect_fusion.cc, inspect_pthread.cc, add APIs for fusion APIs.</p><p>*. call rwlock_init/spinlock_init for each API to handle static initializer.</p><h4 class=CHeading>5.&nbsp; Debug Fusion</h4><p>*. run inspect standalone mode, inspect --standalone</p><p>*. run target in gdb.&nbsp; When debug multiple thread, use cont and ctr_c to switch???</p><p>*. if debug fusion server, just run gdb inspect, set breakpoint and standalone. run target before/after gdb.</p></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="API_based_smt_checking"></a>API based smt checking</h3><div class=CBody><p>~/Projects/ACME/csv/src/cpg</p><p>Convert the string based smt check to API based.</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>cssa2YicesAPI.cc</td><td class=CDLDescription>One-on-one mapping from string to API conversion.</td></tr><tr><td class=CDLEntry>cmk/cmk_verify.cc</td><td class=CDLDescription>depends on the value of &ldquo;cssa2YicesViaAPI&rdquo;, we use API or non-API version.</td></tr></table></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Visualization_via_dotty"></a>Visualization via dotty</h3><div class=CBody><p>~/Projects/ACME/inspect-cmk/bin and ~/Projects/Scripts/ACME/*.pl</p><p>Convert the trace.log file into dotty file for analysis.</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>trace2dot_new.pl</td><td class=CDLDescription>Merge multiple contiguous events into a big event, suitable for long depth.</td></tr><tr><td class=CDLEntry>trace2dot.pl</td><td class=CDLDescription>show every events, only works for short depths.</td></tr></table></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="CPG_CFG"></a>CPG_CFG</h3><div class=CBody><p>~/Projects/ACME/csv/src/cpg</p><p>convert cpg to cfg.</p><p>Chao wanted the other way, from cfg-&gt;cpg</p><blockquote><pre></pre></blockquote><p><b>File changed:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>cpgPrint.cc: print out the dot file into cfg format</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>cpgGraph.h: added a member function</td></tr></table></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Witness_Generation_Related"></a>Witness Generation Related</h3><div class=CBody><p>All projects related to tbench package.</p></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="TBench_for_C++code"></a>TBench for C++ code.</h3><div class=CBody><p><b>Issues:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>Lowered Exception.&nbsp; There are two locations to show the exceptions; throw and catch.&nbsp; Have to consider which location to show for a particular example.</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>How to show witnesses related to virtual functions?</td></tr></table><p><b>Information:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>GIRA PPT slides show the principle of the C++ lowering strategy.</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>Some experimental results located at: /testing/results/naoto/prakash/...</td></tr></table></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="TBench_of_final_model"></a>TBench of final model</h3><div class=CBody><p>~/Projects/CFG_TBench_Load/diver</p><blockquote><pre></pre></blockquote><p><b>Flow:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>0.</td><td class=CDLDescription>Possible tbench flows include - A. called by MC w/o &ldquo;&amp;&rdquo;, B. called by MIX/SMT in batch mode.</td></tr><tr><td class=CDLEntry>1.</td><td class=CDLDescription>For regular run, if &ldquo;overflow&rdquo; or &ldquo;dead-end&rdquo;, logged in fsoft_fl.tbch.info.#(prop_no). if both happened, generate fsoft_fl.csr.# and fsoft_fl.vrf.# for rerun MC to generate a new set of value of variables by setting &ldquo;otg_force_pi_flag 1&rdquo; in checker.sh</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>If the simulation ran into dead end, it will try to simulate on final mode except - a. this is already simulating on final model. b. both &ldquo;overflow&rdquo; and &ldquo;dead-end&rdquo; happens.&nbsp; To simulate on final model, the dumped final model cfg will be loaded.&nbsp; This final model was dumped during the SA when the line &ldquo;tbench_wit_processCFG(cfg_cfg, TBCH_CFG_VERS_FINAL);&rdquo; is executed (this line should be moved out from &ldquo;static_analysis_do_write_blif_model()&rdquo; for the MIX/SMT/BMC_NF).</td></tr><tr><td class=CDLEntry>3.</td><td class=CDLDescription>If the dumped final model was failed to be loaded (by a child process forked by main thread), continue regular SA to obtain the final model.&nbsp; Otherwise, a new simulation on final model will be conducted.&nbsp; Note: this simulation may still lead to a dead-end (dead-end on FINAL mode).</td></tr></table><p><b>Ideas:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>Load the model from dumped CFG file.</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>Generate HTML/XML file from the simplified CFG</td></tr><tr><td class=CDLEntry>3.</td><td class=CDLDescription>For final model, always refer back to the original model?</td></tr></table><p><b>To-DO:</b></p><p>Run regression testing on the change.</p></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Witness_Generation_for_Static_Analysis"></a>Witness Generation for Static Analysis</h3><div class=CBody><p>~/Projects/BUG_FIX_TI_178/diver/src</p><p>This is used to generated witness HTML files before model checker.&nbsp; The idea is to log down potential witnesses bound by SA. pBench package is created by Sriram to collect related info, and tbench_wit_error_block_static_analysis_warning() is written to output witness in HTML format.</p><blockquote><pre></pre></blockquote><p>Currently, all witnesses found by SA are stated with 100000+error_num.&nbsp; One thing needs to be done is later on, when MC found a witness for these properties, we should remove the warning witness HTML from the list.</p></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Witness_Generation_for_TESSA"></a>Witness Generation for TESSA</h3><div class=CBody><p>~/Projects/CFG_Serialization/diver_tessa/src/ and ~/Projects/FRANJO/diver/src</p><p>The latest code is in ~/Projects/FRANJO/diver.&nbsp; The example is in ~/bugs/franjo/float_main</p></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Func_Call_Statistics"></a>Func Call Statistics</h3><div class=CBody><p>~/Projects/BUG_FIX_TI_178/diver/</p><p>This is a new feature under macro &ldquo;TBCH_FUNC_CALL_STATS&rdquo;</p><p>The basic idea is to log down the deepest and bug func call for both original and final model.</p><p><b>Assumptions for original call stack:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>the function will not call itself.</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>if a block is in a different func as its parent, if the function name is not its adjacent func in the call stack, it will be considered as a new function call.</td></tr></table><p><b>Assumptions for final call stack:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>the final call is independent from the original one.</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>if a block is in a different func as its parent, look back N (=2) adjacent funcs in the call stack.&nbsp; If it is not in one of them, this block will be considered as a new function call.</td></tr></table><p><b>Reasons for assumptions:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>For the final model, the entry block or exit block of a function may be merged or removed.</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>It is useless to relate the final block with the original one.&nbsp; (?)</td></tr></table></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Weakest_Precondition_Simplification"></a>Weakest Precondition Simplification</h3><div class=CBody><p>~/Projects/BUG_FIX_TI_178/bugs/summary</p><blockquote><pre>i tried making it smaller, but even then it looks terrible: :)

~ivancic/examples/summary/small.run

the second run is the one that matters... (that is , witness in foo_0)</pre></blockquote><p><b>Comments:</b></p><p>No solution yet, one possible way is to make sth like &ldquo;pi_0_at_step_xx &gt; 5&rdquo; ?</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="SA_New_Features"></a>SA New Features</h3><div class=CBody><p>All projects related to enhance SA.</p></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Sync_branch_3.0_New_Feature"></a>Sync_branch 3.<wbr>0 New Feature</h3><div class=CBody><p>/storage/weihong/Projects/varvel_sync/sync_branch3.0/</p><p>Incoporate the BMC_NF into this version.</p><p>Downloaded and compiled on d3, run 3 examples, huicmn, nvstats and imutils.</p><p>Huicmn and nvstats were failed, the results are in /testing/results/HBMC/results/*/test_sync_branch_30</p><p>The trac item is 1326.</p></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="CFG_Serialization"></a>CFG Serialization</h3><div class=CBody><p>~/Projects/CFG_Serialization/diver</p><blockquote><pre></pre></blockquote><p>Debug:</p><p>Copy the three files</p><blockquote><pre>cfg_backup_load.y .
cfg_backup_load.yacc.c .
cfg_backup_load.lex.i .</pre></blockquote><p>to the diver folder and then gdb.</p><blockquote><pre></pre></blockquote><p><b>To compare the results</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>cat *.dmp |awk &lsquo;{print FNR &ldquo; &ldquo; length}&rsquo;</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>cat *.dmp |awk &lsquo;{ if (FNR == 100) print $0}&rsquo;</td></tr></table><blockquote><pre></pre></blockquote><p><b>Comments from before</b></p><blockquote><pre>* write a lex file, such as t.lex, compile it using flex
* write a syntax file, such as t.y, compile it using bison.
* If there is conflicts, using bision -v t.y , the error msg will be output to t.y.output
* to generate the executable, using gcc t.tab.c lex.yy.c
* Comments on .y syntax:
    *. If we know the order of the output format, just use sth like - cfgCFG: cfgVarAll cfgFunction cfgBB cfgAsmpt cfgWrapper;
    *. If there is a field defined under a macro, using sth like - cfgFuncIPA: COMMA intValue COMMA intValue | {};
    *. For an array, define as: arrInt: NULL_PTR | LINDEX arrNUms; arrNums: arrNum arrNums | RINDEX; arrNnum:...
          so that the order of the array is kept.
* Comments on CFG_CFG
    *. the top_vars is only consisting of CFG_VAR, the CFG_PTR_VAR is pointed by CFG_VAR, which has the same address of CFG_PTR_VAR::current
    *. the CFG_ARY_VAR is pointed by CFG_PTR_VAR, which is pointed again by CFG_VAR, take a look at the output of the CFG_CFG file
    *. after the model is built, only CFG_SRC_LOC is used for CFG_AST</pre></blockquote></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="PI_CONST_FOLDING"></a>PI CONST FOLDING</h3><div class=CBody><p>~/Projects/Sriram_LU_Slice/diver</p><blockquote><pre></pre></blockquote><p><b>Requirement:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>input is the error blocks and unresolved reasons.</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>output is to update XML with &ldquo;unresolved&rdquo; to those blocks and to slice the model operation based on the error blocks.</td></tr></table></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="LOOP_UNROLLING"></a>LOOP UNROLLING</h3><div class=CBody><p>~/Projects/Sriram_LU_Slice/diver</p><p><a href="http://nectwiki.nec-labs.com/twiki/bin/view/Verification/CFGLoopUnroll" class=LURL target=_top>http://nectwiki.nec-labs.com<wbr>/twiki<wbr>/bin<wbr>/view<wbr>/Verification<wbr>/CFGLoopUnroll</a></p><blockquote><pre></pre></blockquote><p><b>Current Status of LU</b></p><p>Target is to find a way to improve the regression testing to 10% more bugs.</p><h4 class=CHeading>[10.30.2008]</h4><p><b>PI arithmatic simplifciation:</b></p><ul><li>The goal is to get rid of some variable because of the arithmatic with pi_x variable.</li><li>The problem that (pi_0 + var_xxx + 2) could not be identified is because of the ( ), which is a <b>primary</b> expression.</li><li>This also bring the <b>problem</b> of loading CFG before the MERGING stage: the loaded CFG could not merge the expression to form &ldquo;(pi_0 + var_xxx + 2)&rdquo;</li></ul><h4 class=CHeading>[10.09.2008]</h4><p><b>Discussion with Franjo:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>A.</td><td class=CDLDescription>Implement the Pi_0 + xxx simplification.</td></tr><tr><td class=CDLEntry>B.</td><td class=CDLDescription>Run with MIX SA and MC</td></tr><tr><td class=CDLEntry>C.</td><td class=CDLDescription>Add the nested loop statistics and others? a + b + c = total?</td></tr></table><h4 class=CHeading>[10.07.2008]</h4><p><b>Ideas:</b></p><p>Check the timeout properties in MC, figure out what is the reason of timeout for those error blocks, is it because of the loops in front of those error blocks?</p><h4 class=CHeading>[10.06.2008]</h4><p><b>Rerun the regression and Observation:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>issue</td><td class=CDLDescription>did not prevent &ldquo;default&rdquo; run from simplifing the loops.</td></tr><tr><td class=CDLEntry>03_N___cfg_copy_tophalf</td><td class=CDLDescription>proved? wrong from b4cg.dot =&gt; afterIPA.dot</td></tr><tr><td class=CDLEntry>03_S_cfg_add_line</td><td class=CDLDescription>much simplier compared to default on blocks.dot</td></tr></table><h4 class=CHeading>[10.02.2008]</h4><p><b>Discussion with Franjo:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Done.</td><td class=CDLDescription>fix the PI problem for both UIconditions and sum + () form.</td></tr></table><h4 class=CHeading>[10.01.2008]</h4><p><b>Report Improvement:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Done.</td><td class=CDLDescription>Added the numbers of both loop unrolled and total loops.</td></tr><tr><td class=CDLEntry>Done.</td><td class=CDLDescription>Filter out those cases: 1.&nbsp; - the above #s &lt;= 0; 2.&nbsp; - Property mem out/time out = 0;</td></tr></table><h4 class=CHeading>[09.30.2008]</h4><p><b>Discussion with Franjo:</b></p><ul><li>Try loopSimplification, both code and examples.</li></ul><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>The IPA can simplify PI assignment, but not UIconditions expression.</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>For PI assigment, it cannot simply the form like, var_i + ( a : 0 : pi_0).&nbsp; Namely, more than ConditionalShift expression.</td></tr></table><ul><li>Try IPA-LoopSimp-LoopUnroll-IPA-LoopSimp circle.</li><li>Try move PI outside of the loop, also error blocks outside of the loop.</li></ul><h4 class=CHeading>[09.29.2008]</h4><p><b>Tasks:</b></p><ul><li>Try to move PI summation outside of the loop.</li><li>Check loops in regression cases, for non-array bounday checker.</li><li>check why for A/DicRegist/ the unrolled can find one more bug (faster).&nbsp; - [result_loopUnrollExperiments_091808/01_huicmn/A/Hui_Cmn_vliceRecog_DicRegist]</li><li>finish the non-share error block report consistence.</li></ul><h4 class=CHeading>[09.26.2008]</h4><p><b>Testing :</b></p><p>Run the regression test with two new things,</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>A.</td><td class=CDLDescription>reduced time, from 1800s to 600s</td></tr><tr><td class=CDLEntry>B.</td><td class=CDLDescription>bug fixing on [09.25.2008]</td></tr></table><p><b>How to get good results from loop unrolling or loop simplification / summary :</b></p><ul><li>check all possible simple loops in the regression test</li></ul><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>02_nvstats/A/main_0: short loop with 4 blocks.</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>02_nvstats/A/do_current: short loop with error blocks inside.</td></tr><tr><td class=CDLEntry>3.</td><td class=CDLDescription>02_nvstats/A/proc_stats: a pattern is FOUND (block 211-213-219), should be summarized!!!</td></tr></table><ul><li>try a simple example to merge PIs and bring it outside of the loop and simply the loop</li><li>look at the source code of the examples.</li><li>check why for A/DicRegist/ the unrolled can find one more bug (faster).</li></ul><p><b>Observations :</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>A.</td><td class=CDLDescription>for any loop with error blocks, no summary blocks can be obtained to replace the loop.</td></tr><tr><td class=CDLEntry>B.</td><td class=CDLDescription>for any loop with more than one exit blocks, no summary blocks can be obtained.</td></tr></table><h4 class=CHeading>[09.25.2008]</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>Done</td><td class=CDLDescription>Fix the bugs in /fsoft/fsoft/testing/results/result_loopUnrollExperiments_092408/benchmark1.0b/errors by disable the loop unrolling for those loops with two consective error blocks.</td></tr><tr><td class=CDLEntry>Results</td><td class=CDLDescription>Fix most of bugs, messed by error blocks&rsquo;s next array in loop_unroll.c, but we still have one where two error blocks are connected to each other, see the case &ldquo;benchmark1.0b/03_imsutils/LU_1/S/fsoft_lu_d4_S_1222273176/cfg_add_line&rdquo;]</td></tr><tr><td class=CDLEntry>Done</td><td class=CDLDescription>Find more loop patterns by using [grep &ldquo;===&rdquo; `find ./ -name fsoft_fl.bll` | grep -v &ldquo;Found 0&rdquo; | grep -v &ldquo;Found a pattern&rdquo; &gt; loops]</td></tr><tr><td class=CDLEntry>Comments</td><td class=CDLDescription>See the above part for details.</td></tr></table><p><b>Testing of LU</b></p><p>The scripts, location and macros</p><h4 class=CHeading>Testing and checking scripts</h4><ul><li>To run the testing, use the script ~fsoft/TESTDATA/benchmark1.0b/run_loop_unrolling.sh &amp; loop_unrolling_test.sh, Change the ~fsoft/bin/fsoft_lu for binary.&nbsp; Change the run_loop_unrolling.sh to set the output folder.&nbsp; Use loop_unrolling_test.sh to run batch mode.</li><li>To check the result, use the scripts under the foler: /fsoft/fsoft/testing/results/result_loopUnrollExperiments_091808/benchmark1.0b/ To check segmentation fault, use ~fsoft/scripts/findErrors All the above scripts can be found at: ~/Projects/Scripts/loop_unrolling/</li><li>For the final csv file, use macros of VBScript under D:/liwh/NEC/work/loop_unrolling/</li></ul></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="HBMC_PBPG"></a>HBMC PB &amp; PG</h3><div class=CBody><p>~/Projects/Malay_Context/diver</p><blockquote><pre></pre></blockquote><p>HBMC Path Balancing and Property Grouping</p><blockquote><pre></pre></blockquote><p><b>Re-run some of the regression:</b></p><blockquote><pre>bmc_all_sch_40_60
bmc_I_II_III_all
bmc_I_II_III_all_cxt_3
bmc_II_III_pb_sim
bmc_I_III_pp_sim
bmc_III_sim_only
bmc_I_pg_only

smt_all_sch_1 with range info
smt_all_sch_2</pre></blockquote><blockquote><pre></pre></blockquote><p><b>Observations:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>the function cfg_smt_context_2_bmc() has already called PB followed by PG, and then dump the blif files for each sub-group.</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>the function cfg_smt_context_2_bmc() and smt_dump_verisol_model() cannot co-existing.</td></tr><tr><td class=CDLEntry>3.</td><td class=CDLDescription>not sure whether CSR is introduced or not.</td></tr></table><p><b>Regression Testing:</b></p><blockquote><pre>The foler is at:
/testing/results/HBMC/
run/notify_run will send an email containing timing info once it's done.
we can try a small test example before regression testing. e.g., ~/Malay_Context/bugs/temp/tt

Common setting in fsoft_fl.vrf
&quot;set mes_use_group_info 1&quot;  #for bmc group
&quot;echo &quot; -m 8000 -c $FILE_PREFIX.cnt -p $PROPERTY_FILE -s $MES_SCHEDULE_FILE -o fsoft_fl_cfg -S $MES_PARAM_FILE $BLIF_FILE&quot; &gt;&gt; $verifFile&quot; # for bmc group</pre></blockquote><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>I.</td><td class=CDLDescription>Property grouping + Seperate Models (BMC)</td></tr></table><blockquote><pre>Enable:
hpc_overlap_loop_flag 0
hpc_overlap_threshold 0.5

Disalbe:
hpc_overlap_loop_flag 1
hpc_overlap_threshold 0</pre></blockquote><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>II.</td><td class=CDLDescription>Path Balancing (BMC)</td></tr></table><blockquote><pre>Enable:
hpc_pb_flag 1
hpc_cxt_flag 1

Disalbe:
hpc_pb_flag 0
hpc_cxt_flag 0</pre></blockquote><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>III.</td><td class=CDLDescription>Simplification</td></tr></table><blockquote><pre>Enable:
BMC_1 sat_block_constraint 1
BMC_1 sat_block_flow_constraint_fwd 1
BMC_1 sat_block_flow_constraint_bwd 1
BMC_1 sat_block_flow_constraint 1
BMC_2 sat_block_constraint 1
BMC_2 sat_block_flow_constraint_fwd 1
BMC_2 sat_block_flow_constraint_bwd 1
BMC_2 sat_block_flow_constraint 1</pre></blockquote><ul><li>5 group of testing I, III, I+III, II+III, I+II+III</li><li>Report Generation:</li></ul><p>see &ldquo;~/Projects/Scripts/smt_bmc/prop_result.pl&rdquo;, the main thing is a hash of arrays for property comparison.</p></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="HBMC_and_MIX_Integration"></a>HBMC and MIX Integration</h3><div class=CBody><p>~/Projects/hunters_SMT_MIX/diver</p><p>Regression testing on Sync</p><p>The description of the combination of HBMC and MIX</p><h4 class=CHeading>1.&nbsp; The source code</h4><p>The source code locatd at</p><p>/storage/weihong/Projects/varvel_sync/sync_d3/sync_branch/src/fsoft_bin</p><p>The reason</p><p>*.&nbsp; We want to have the same front-end model for comparison between HMC fsoft binary and previous varvel BMC_NF, HBMC, BMC, and MIX runs.</p><p>*.&nbsp; The varvel backend was converted to fsoft front-end, mix and mixSym were linked from ~/Projects/hunters_SMT_MIX folder, but ssh package is a copy from the folder.</p><p>For the settings in source code</p><p>*.&nbsp; To change the priority score, change the value in pq_insert_new_node().</p><p>*.&nbsp; For the backward computing, check mix_verify.cc::getRankInBackwardRings().</p><p>*.&nbsp; Grep the flags in the code to review each settings.</p><h4 class=CHeading>2.&nbsp; The experiments</h4><h4 class=CHeading>2.1 The new settings and tunings for the experiments</h4><p>set mix_verbose 0                /* No OnionRing computation, save half of memory*/</p><p>set mix_maxDisjIte 2             /* Over-approximated, maxinum model 2 ITE expression */</p><p>set mix_widenMinPoly 1           /* Only 1 polyhedran allowed for backward image computation */</p><p>set mix_maxBwdTime 60            /* Time limited for backward image computation */</p><p>set mix_trMinPoly 20            /* Not available */</p><p>set mix_backwardFixpoint 1       /* Enable/Disable backward image computation */</p><p>set mix_BoolBwdFixpoint 1        /* Only consider control states when doing backward image computation */</p><p>set cfg_update_props_from_file 1 /* Update MIX error blocks, loaded from fsoft_fl.vs.prp (hard-coded) */</p><h4 class=CHeading>2.2 The experiments and log files</h4><p>The experiments are located at &ldquo;/testing/results/HBMC/HMC_runs/&rdquo;</p><p>Folders</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>smt_mix_icfem</td><td class=CDLDescription>all experiments.</td></tr><tr><td class=CDLEntry>smt_mix_icfem_2</td><td class=CDLDescription>all experiments.</td></tr><tr><td class=CDLEntry>smt_mix_icfem_mix</td><td class=CDLDescription>mix run only</td></tr></table><p>old runs</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>smt_mix_dfs</td><td class=CDLDescription>DFS run</td></tr><tr><td class=CDLEntry>smt_mix_bfs</td><td class=CDLDescription>BFS run</td></tr><tr><td class=CDLEntry>smt_mix_hbmc_only</td><td class=CDLDescription>HBMC only</td></tr><tr><td class=CDLEntry>smt_mix_key</td><td class=CDLDescription>Keynodes based</td></tr></table><p>Scripts</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>prepare_icfem.pl</td><td class=CDLDescription>copy all updated configure files to each function.</td></tr><tr><td class=CDLEntry>folder_list</td><td class=CDLDescription>specify which functions to be run.</td></tr><tr><td class=CDLEntry>run</td><td class=CDLDescription>run the experiments.</td></tr></table><h4 class=CHeading>Best results logs (no backward)</h4><p>smt_mix_icfem/01_huicmn_A_Hui_Cmn_VoiceRecog_DicRegist/smt_mix.d3.7_17_09_hmc_dfs_bwd.log.* smt_mix_icfem/06_ftptests_A_main/smt_mix.d4.nec-labs.com.7_19_09_hmc_dfs_no_bwd.log.* smt_mix_icfem/03_imsutils_A_get_wellknown_name_by_sid/smt_mix.d4.nec-labs.com.7_19_09_hmc_dfs_no_bwd.log.*</p><h4 class=CHeading>2nd results logs (with bwd)</h4><p>smt_mix_icfem_2/01_huicmn_A_Hui_Cmn_VoiceRecog_DicRegist/smt_mix.d3.7_20_09_hmc_dfs_bwd_last.log.* smt_mix_icfem/01_huicmn_A_Hui_Cmn_VoiceRecog_DicRegist/smt_mix.d3.7_20_09_hmc_dfs_bwd_last.log.*</p><h4 class=CHeading>3nd configure 2</h4><p>smt_mix_icfem_2/01_huicmn_A_Hui_Cmn_VoiceRecog_DicRegist/smt_mix.d3.7_19_09_hmc_dfs_mix_config_2.log.* smt_mix_icfem_2/06_ftptests_A_main/smt_mix.d3.7_19_09_hmc_dfs_mix_config_2.log.*</p><h4 class=CHeading>4th configure 1</h4><p>smt_mix_icfem_2/smt_mix.d4.nec-labs.com.7_18_09_hmc_dfs_mix_bo_disj.log.* ( maxDisjIte 2) smt_mix_icfem_2/smt_mix.d4.nec-labs.com.7_17_09_hmc_dfs_mix_boolonly.log.* ( maxDisjIte 0)</p><h4 class=CHeading>3.&nbsp; The reports</h4><h4 class=CHeading>3.1 The perl scripts written to create the reports</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>stat_paper.pl</td><td class=CDLDescription>mine the data from all kinds of log file.&nbsp; Manually change log file pre-fix to generate report for each function, and then cat them to an entire report.</td></tr></table><h4 class=CHeading>3.2 The usage of the scripts</h4><p>Parameters to be set</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>$root_dir</td><td class=CDLDescription>the path to the run</td></tr><tr><td class=CDLEntry>$all_examples</td><td class=CDLDescription>the function name</td></tr><tr><td class=CDLEntry>$test_items</td><td class=CDLDescription>the folder containing the runs</td></tr><tr><td class=CDLEntry>$hash_ti_type</td><td class=CDLDescription>1. hmc, 2. hbmc, 3. mix</td></tr><tr><td class=CDLEntry>$log_name</td><td class=CDLDescription>the prefix for the log file name</td></tr></table><ul><li>Compile sync_branch/fsoft to fsoft binary to keep the same frontend, the existing folder is /storage/weihong/Projects/varvel_sync/sync_d3/sync_branch/src/fsoft_bin/fsoft</li><li>The testing results are in /testing/results/HBMC/smt_mix(...).&nbsp; The reports are in d:/liwh/NEC/work/hbmc_mix_report/</li><li>Several scripts are used for testing, they are stored in ~/Projects/Scripts/hbmc_mix/sync</li></ul><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>prepare.pl</td><td class=CDLDescription>set up the configuration files for all examples.</td></tr><tr><td class=CDLEntry>stat_exec.pl</td><td class=CDLDescription>mine the results from the log file.</td></tr><tr><td class=CDLEntry>stat_paper.pl</td><td class=CDLDescription>mine the data to generate the report files.&nbsp; The mix part has two flow, one is a regular mining, which has the mix final report.&nbsp; Another one doesn&rsquo;t terminate normally, which has to mine the data based on intermediate outpout.</td></tr><tr><td class=CDLEntry>run</td><td class=CDLDescription>run all test cases.&nbsp; Check each run to understand the settings.</td></tr></table><ul><li>folders</li></ul><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>smt_mix_icfem</td><td class=CDLDescription>hbmc only/mix backward experiments</td></tr><tr><td class=CDLEntry>smt_mix_icfem_2</td><td class=CDLDescription>combination experiments.</td></tr><tr><td class=CDLEntry>smt_mix_icfem_mix</td><td class=CDLDescription>mix run only</td></tr></table><blockquote><pre></pre></blockquote><blockquote><pre></pre></blockquote><p>Combine HBMC and MIX</p><h4 class=CHeading>[07.16.2009]</h4><p><b>Tuning with Chao:</b> set mix_maxDisjIte 2 set mix_widenMinPoly 1 set mix_maxBwdTime 100 set mix_trMinPoly 20 set cfg_update_props_from_file 1</p><h4 class=CHeading>[12.22.2008]</h4><p><b>Discussion with Chao:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>MIX first run (widening) &ldquo;proof&rdquo; means real proof.</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>MIX first run &ldquo;witness&rdquo; means nothing.</td></tr><tr><td class=CDLEntry>3.</td><td class=CDLDescription>MIX second run witness should be followed a concretization operation.</td></tr></table><h4 class=CHeading>[10.06.2008]</h4><p><b>Observation:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>there are a lot of more witnesses in the A/DicRegist/DFS with loops.</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>for better report, use results.mes, instead of fsoft_fl.vrl (but no depth info in results.mes).</td></tr></table><h4 class=CHeading>[10.05.2008]</h4><p><b>Re-run the regression testing after bug fixing on [10.02.08]</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>changed ssh_exec.c/ssh_check_loops(), problem there are 2 blocks (#1) in ordered_blks.</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>changed ssh_exec.c/ssh_loop_store_other_nodes(): ASSERT( array_n(arr_curPCs) &gt;=  1);</td></tr></table><h4 class=CHeading>[10.02.2008]</h4><p><b>Re-run the regression testing</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>A.</td><td class=CDLDescription>the hui_cmn test case has been changed.</td></tr><tr><td class=CDLEntry>B.</td><td class=CDLDescription>bug fixing???</td></tr></table><h4 class=CHeading>[09.22.2008]</h4><ul><li>loop locations and filtering, only deal with simple loops.</li><li>bugs - fixing bugs in /storage/weihong/testing/results/hbmc_mix_results_922/errors</li></ul><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>Assertion Errors (MB)</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>Internal Errors (MC)</td></tr></table><h4 class=CHeading>[Implemenations]</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>Bounded Frontier image computation.</td></tr></table><p>This one computes the image forwarding based on a new Transition Relation (TR) which is obtained for each iteration.&nbsp; This TR is computed for the depth d to d+1.&nbsp; If the # of polys in the state s contains is greater than a threshold, this s is split (inside), and then s is taken for image forwarding computation.</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>2.</td><td class=CDLDescription>Bounded computation with disjunction of transition relations</td></tr></table><p>In this case, the TR is break into an array of sub TRs, and then the state s is computed on each element of this array.&nbsp; The final result is unioned to update the s for next iteration.</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>3.</td><td class=CDLDescription>Bounded computation with disjunction of transition relations and state space</td></tr></table><p>This is based on 2, which not only splits the transition relation TR, but also splits the state variable s if the symbolic is too big.&nbsp; The final state s of each iteration is obtained via the union of all the sub results.</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>4.</td><td class=CDLDescription>Bounded computation with priority queue.&nbsp; (SSH)</td></tr></table><p>This is our current implementation using the priority queue to store the states.&nbsp; It checks whether the image computation reaches any error block or not.&nbsp; It also checkes the loops in the CFG (we did some experience on loops, ie. image computation on loops only, other nodes are held until quitting the loop).&nbsp; The TR is the same as the above (disjunction of TRs).&nbsp; The state s is picked up from the priority queue and the new computed s is inserted into the queue based on the heuristic metric, which is depth by default.</p><ul><li>performance comparison</li></ul><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>_</td><td class=CDLDescription>no way to compare yet because of the bugs: the report csv missed some rows (run data_poly_size)</td></tr></table><p><b>Testing of HM</b></p><h4 class=CHeading>Testing and Checking Scripts</h4><ul><li>To run the testing, use ~fsoft/TESTDATA/benchmark1.0b/run_hbmc_mix.sh &amp; hbmc_mix_test*.sh Change the ./TESTDATA/benchmark1.0b/bin/checker_hbmc_mix.sh &amp; fsoft_hbmc_mix to change the binary and script.&nbsp; The output folder is under /storage/weihong/testing/results/hbmc_mix_results_908/hbmc_mix_results__*** according to run_hbmc_mix.sh</li><li>To check the output results, run ~/Projects/Scripts/hbmc_mix/data_xxx to generate the .csv file The VBScript macro is located at D:\Liwh\NEC\Work\hbmc_mix_report</li></ul><p>The flow graph is as follows.&nbsp; ( PPT is in d:/liwh/nec/work/hbmc_mix.ppt )</p><img src="hbmc_mix_slide1.png" width="960" height="720"><img src="hbmc_mix_slide2.png" width="960" height="720"></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Varvel_Related"></a>Varvel Related</h3><div class=CBody><p>/storage/weihong/Projects/varvel_sync/sync_branch/</p><p>The repository in Japan</p><h4 class=CHeading>Twiki Link</h4><p><a href="http://nectwiki.nec-labs.com/twiki/bin/view/Verification/NSoftSubVersion" class=LURL target=_top>http://nectwiki.nec-labs.com<wbr>/twiki<wbr>/bin<wbr>/view<wbr>/Verification<wbr>/NSoftSubVersion</a></p><h4 class=CHeading>Things for Regression Run</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>correct libverisol.a (smt/bmc_nf/bmc), change the soft link.</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>correct libfsoft.a (smt/bmc_nf)</td></tr><tr><td class=CDLEntry>3.</td><td class=CDLDescription>correct binaries (cp exe to ./bin/)</td></tr><tr><td class=CDLEntry>4.</td><td class=CDLDescription>correct config files, including model_build.conf, model_check.conf, param.mes, schedule.mes</td></tr></table><p>Japan report for varvel</p><blockquote><pre>   158  12:12   rm -rf varvel workdir.SPRINTF
   159  12:12   new_repro.SPRINTF.sh
   160  12:13   ls
   161  12:13   rm doit-summary.log.SPRINTF rep.txt.SPRINTF
   162  12:13   mv varvel varvel.SPRINTF
   163  12:13   setenv TP /fsoft/nsoft/headbuild/fromJapan/TP
   164  12:13   ls $TP/v-doit-summarize-NECLA.sh
   165  12:13   $TP/v-doit-summarize-NECLA.sh
   166  12:13   l
   167  12:13   $TP/v-doit-summarize-NECLA.sh SPRINTF
   168  12:13   l
   169  12:14   more rep.txt
   170  12:14   more rep.txt.SPRINTF
   171  12:14   diff rep.txt.SPRINTF rep.txt.PICF

   $TP/result-all-sync-NECLA.sh SPRINTF
   $TP/report_comparisons_NECLA.pl

benchmark = common TP

Compile on CentOS 5.4 machine (naxos)

cd /testing/results/BMCNF_4varvel/benchmark
Example

 run_vvl_condor.sh -s SNAP_3_BMCNF_SET_7 -r SNAP_3_BMCNF_SET_7 -o
&quot;--bmc_nf&quot; -d
/testing/results/BMCNF_4varvel/binaries/VARVEL/snapshot_3/bin.CentOS-54

run_vvl_condor.sh -s &lt;TEST_STRING&gt; -r &lt;TEST_STRING&gt; -o &quot;$EXTRA_OPTIONS&quot; -d
$VARVEL_BIN

THis will create a file called condor_submit_file.all.TEST_STRING.&lt;someNum&gt;

condor_submit condor_submit_file.all.TEST_STRING.&lt;someNum&gt;

tail condor_submit_file.all.TEST_STRING.&lt;someNum&gt;.*.log
----------------

varvel_TP

cd /testing/results/BMCNF_4varvel/varvel_TP/scripts/VARVEL

v-run-new-CONDOR.pl [--test-string|--tag|-S] &lt;test string&gt;
    [--directories-file|f|F] &lt;directories file&gt;
    [--match-pattern|m] &lt;match-pattern&gt;
    [--index|i] &lt;index&gt;
    [--extra-options|o] &lt;extra options&gt;
    [--bin-dir|b] &lt;bin directory full path name&gt;

example:
v-run-new-CONDOR.pl  --tag SYNC_BRANCH_TEST -f redo.txt --extra-options
&quot;--bmc_nf&quot; --bin-dir
/testing/results/BMCNF_4varvel/binaries/VARVEL/sync_branch3.1_sync/bin [-r
]

That assumes redo.txt is in
/testing/results/BMCNF_4varvel/varvel_TP/results/VARVEL
and everything runs properly on CentOS 5.4

If you omit -f redo.txt, it will use alldirs.txt in above directory

If you add the -r option it will create a rerun script

You will have one big condor_submit.SYNC_BRANCH_TEST.XXXX file
condor_submit ondor_submit.SYNC_BRANCH_TEST.XXXX

and monitor the logs at
/testing/results/BMCNF_4varvel/varvel_TP/results/VARVEL

If you want to run sequentially, then you need to run v-run-new-NECLA.sh
-s SYNC_BRANCH_TEST -f redo.txt -b
/testing/results/BMCNF_4varvel/binaries/VARVEL/sync_branch3.1_sync/bin -r
-o &quot;--bmc_nf&quot;

To get the OK-&gt;TIMEOUT cases and put them in the redo.txt:
grep 'OK-&gt;TIMEOUT'
/testing/results/BMCNF_4varvel/varvel_TP/reports/VARVEL/SYNC_BRANCH_TEST/SYNC_BRANCH_TEST_vs_BMCNF_3_SET_3.txt
| awk -F&quot;:&quot; '{print $3}' | sed &quot;s/\.\///&quot; &gt; redo.txt

To generate this report again
cd /testing/results/BMCNF_4varvel/varvel_TP/results/VARVEL

result-all-sync-NECLA.sh SYNC_BRANCH_TEST
report_comparisons_NECLA.pl -s BMCNF_3_SET_3 -s SYNC_BRANCH_TEST

*** New Scripts (Two Step Flow) ***
ll | grep -e TwoStepFlow -e BMC
cp do_run.sh do_run_SB_3.sh
result-all-sync-NECLA.sh SB_3_SYNC
report_comparisons_NECLA.pl -s SB_3 -s SB_3_SYNC | tee SB_3_vs_SB_3_sync.txt

Submit CTP jobs:
SB3.sh
condor_submit condor_submit_xxxx ||OR|| submit_all_condor(TwoStepFlow)
check_failures.pl -h
check_failures.pl -s SB_3_SYNC
check_mc_failures.sh -h


======

cd /testing/results/BMCNF_4varvel/benchmark/scripts/VARVEL
v-create_reports.sh [-h] [ -c|-r ] [-m] -s &lt;tag&gt; -x &lt;tag_to_compare&gt;
 run without options will create and mail reports
 -s &lt;tag&gt; reports for fsoft directories matching this tag
 -x &lt;tag_to_compare&gt; reports comparisons with this, default is SNAPSHOT_1
 -m mail reports only
 -e echo what you will do only
 -c or -r create reports only
 -D &lt;/top/directory/before/results&gt;
 -S &lt;full/path/name/for/scripts/dir&gt;
 -R &lt;full/path/name/for/results/dir&gt;

For example
v-create_reports.sh -s SNAP_3_BMCNF_SET_3 -x SNAPSHOT_1 -c &amp;
This will create
/testing/results/BMCNF_4varvel/benchmark/reports/VARVEL/SNAP_3_BMCNF_SET_3
directory and populate it with a set of reports.

For ruby (only TP benchmark)
cd /testing/results/BMCNF_4varvel/benchmark/tools
sh make_report_list.sh SNAP_3_BMCNF_SET_3
THis outputs csv format on stdout, which means you save output into &gt;
../reports/VARVEL/SNAP_3_BMCNF_SET_3/ruby_report.csv</pre></blockquote><h4 class=CHeading>To Build</h4><p>sh prepare.sh; make; (Makefile of all is a clean make, use non-clean Makefile afterwards)</p><p>link binaries (needed?)&nbsp; ~ivancic/bin/useVarvelSynch</p><p>compiled on zagreb ... ok.&nbsp; -&gt; type &ldquo;make&rdquo; under folder of sync_branch</p><p>for tbench, tbench -&gt; vvl_tbench. when checkin, may need to re-check out tbench?</p><p>If some file is missing, check the link:<a href="http://10.17.225.57/varvel/trac/browser/trunk/" class=LURL target=_top>http://10.17.225.57/varvel/trac/browser/trunk/</a>, product2.1 or product2.2</p><h4 class=CHeading>To output the debug files</h4><p>export __VVL_WORKDIR=`pwd`/work</p><h4 class=CHeading>Debuging</h4><ul><li>Code Change ***</li></ul><p>The fork() make the gdb un-predicatble.</p><p>edit src/model_building/mb_main.c, change this multi-process code to single process</p><p>comment out the fork(), and let the child process be the real flow: if (mb_cpid == 0) -&gt; if (1);</p><ul><li>gdb command ***</li></ul><p>check out mb_gdb.sh for &ldquo;gdb ...&rdquo;</p><p>check out mb_gdb_cmd.txt for parameters after entering the gdb</p><p>check out create_mc_result.sh for tbench debugging.</p><p>check out mb.sh for regular run.</p><p>The output of the debug is in mb_out.txt</p><h4 class=CHeading>DbyC Fsoft &amp; Sync_branch</h4><p>1.&nbsp; To debug DbC of sync_branch on FSoft, do the following,</p><blockquote><pre>       f (x) {
     ...
     g(x);
     ...
     g(x);
       }

==&gt;
    1. remove g(x) from f(x);
    2. transform f(x) to
    f (x) {
      assume(preconf_x);
      ...
      assert(preconf_g);
      x = pi;
      assume(postconf_g);
      ...
      assert(preconf_g);
      x = pi;
      assume(postconf_g);
        }</pre></blockquote><p>2.&nbsp; To debug mem related issue, use valgrind</p><p>valgrind --tool=memcheck  --db-attach=yes ~/Projects/BUG_FIX_TI_178/diver/fsoft -xf fsoft_fl.gbl</p><p>3.&nbsp; To diff two folder use</p><blockquote><pre>diff -r --exclude=.svn --exclude=&quot;*.yacc.c&quot; src ../../src
tar --exclude .svn --exclude CVS -c -v -f xxx.tar .... .... ....
rm ./--exlude or rm -- --exlude</pre></blockquote><p>4.&nbsp; To deal with large output pipeline command, use</p><blockquote><pre>find / -name &quot;xxx&quot; |xargs ls -a</pre></blockquote><p>5.&nbsp; To run a particular checker of a particular function of a particular example, use</p><blockquote><pre>./run_frontend_sync.sh -X &quot;--bmc_nf -T 700&quot; -Y &quot;bmc_nf_sync_expr_1_24_err_out_1_2nd&quot; -c S -b nvstats -x s -f main</pre></blockquote><p>6.&nbsp; To generate report using rr.jar, do this</p><blockquote><pre>java -jar ~nmaeda/tmp/rr.jar -C vvl</pre></blockquote></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Source_Control"></a>Source Control</h3><div class=CBody><p>refer to /storage/weihong/subversion/backups/scripts/*.sh</p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>Obtain a latest revision R from sync_branch.</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>Create a local repository L based on R.</td></tr><tr><td class=CDLEntry>3.</td><td class=CDLDescription>Work on project using repository L.</td></tr><tr><td class=CDLEntry>4.</td><td class=CDLDescription>Update between L and R by swapping .svn folders for each package (subfolder).</td></tr></table><p>All .svn are saved in /storage/weihong/subversion/backups/ with Revision # and date information in README.</p><h4 class=CHeading>Implementation</h4><blockquote><pre># The basic idea is to create an intermediate repository for source control
# The flow is like this:
# 1. check out the latest version V1 from A.
# 2. create a local repository B using V1.
#    2.1: svnadmin create REP_NAME; chmod g+w -R REP_NAME(this will enable other full-access for other accounts).
#    2.2: call svn_backup.sh to backup all .svn and folder structure of V1.
#    2.3: do &quot;svn co file:///path/to/REP_NAME ./&quot; in V1 with .svn moved to backup folder.
# 3. work on local space by checking out and commiting on B.
# 4. Once the local job is done locally, sync the latest version V2 in B to A.
#    4.1: remove all .svn folder in each folder of V2.
#    4.2: copy all .svn folder from V1 to V2.
#    4.3: svn update on V2 and resolve any conflict.
#    4.4: check in the code to A.</pre></blockquote></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="HBMC"></a>HBMC</h3><div class=CBody><p>/storage/weihong/Projects/varvel_sync/sync_naxos/sync_branch</p><blockquote><pre></pre></blockquote><p><b>UPDATES:</b></p><p>*. two seperate binary are located: 1. sync_branch2.1 2. sync_d3/sync_branch</p><p>*.&nbsp; MIX are tested on 1, SMT on 2.</p><h4 class=CHeading>*.&nbsp; New Things on 2 (not in 1, but should be in 1)</h4><blockquote><pre>1. smt_model/cfg_dump_blif: add one more line
2. varvel_controller/vc_main.c: enable range analysis.</pre></blockquote><blockquote><pre></pre></blockquote><p><b>changes are made with respect to sync_branch/src/:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>0.</td><td class=CDLDescription>compiling</td></tr></table><blockquote><pre>relink the lib folder to my local lib of fsoft</pre></blockquote><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>add the &ldquo;--smt&rdquo; option for the c_verify:</td></tr></table><blockquote><pre>varvel_controller/vc_structure.h: add &quot;isHBMC&quot; in the VC_OPTION_INFO
varvel_controller/vc_main.c</pre></blockquote><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>2.</td><td class=CDLDescription>add the smt script files for model building</td></tr></table><blockquote><pre>change the hard-coded vc_main.c:InitPathForAnalysisGroup() &quot;fsoft_fl.blf&quot; and &quot;fsoft_fl.prp&quot;
change the mb_main.c:avl_insert(cmdFlagTable, util_strsav(&quot;cfg_dump_cdfg_flag&quot;), util_strsav(&quot;1&quot;));
change the parameter, ie., &quot;-H 1/2&quot; for model building.</pre></blockquote><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>3.</td><td class=CDLDescription>add the smt script files for model checking</td></tr></table><blockquote><pre>change the bin/config/model_check.conf, add &quot;set.mes_hbmc_flag=1&quot;, use libverisol.a without &quot;ped&quot;
debug the MC by comment out the fork(), use command in the varvel/varvel.log
change the config files in mc_main.c based on &quot;mc_useVerisol&quot;</pre></blockquote><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>4.</td><td class=CDLDescription>tbench generation</td></tr></table><blockquote><pre>add system() call in mc_main.c:mc_tbench_record_results().
to get correct top.xml, should call system() after tbench_record_results_cmd().</pre></blockquote><blockquote><pre></pre></blockquote><p><b>issues or concerns:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>how to separate bmc script from smt script on the configuration file</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>how to call tbench after smt call</td></tr><tr><td class=CDLEntry>3.</td><td class=CDLDescription>how to add the libyices.a file or a different libverisol.a</td></tr></table></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="Bug_Fixing_Related"></a>Bug Fixing Related</h3><div class=CBody><p>Fix the trac bugs in twiki page.</p></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Trac_792"></a>Trac 792</h3><div class=CBody><p>/home/st/weihong/Projects/BUG_FIX_TI_178/bugs</p><p>The integer overflow issue</p><p><a href="http://10.17.218.10/varvel/trac/ticket/792" class=LURL target=_top>http://10.17.218.10/varvel/trac/ticket/792</a></p><blockquote><pre></pre></blockquote><p><b>PI Assumption to Constraint:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>a lot of pi_xxx has been renamed.&nbsp; To keep track of them, log down the following info.&nbsp; A. 100_pi_0 -&gt; 104_pi_0 -&gt; 500_pi_5, and 104_pi_0 -&gt; 47_pi_1, then, 100 pi_0 500 pi_5 and 100 pi_0 47 pi_1 are both logged.&nbsp; In this case, we are hoping that only one of then in both original trace and final trace up to the current pc value.</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>to debug the merge related info, use &ldquo;cfg_debugShowMergeDetails&rdquo;.</td></tr></table><p><b>PI Slice:</b></p><p>To be done.</p><p><b>PI Merge:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>fsoft_fl.tbch.mrg</td><td class=CDLDescription>Keep track of the name change of pi_x in the model.&nbsp; This is complicated by cfgAssume as described in <b>&lt;PI Assumption to Constraint&gt;</b>.&nbsp; Also, some pi_x names could be changed multiple times.</td></tr><tr><td class=CDLEntry>fsoft_fl.tbch.slc</td><td class=CDLDescription>Record the active variables in each basic block.&nbsp; This info is currently used in both the initial value and intermediate lookup.&nbsp; That is, we will check if a value is active in current block, if not, we will not load it even it is in the final trace (csv) file.&nbsp; Otherwise, it may affect the later assignment and simulation.</td></tr><tr><td class=CDLEntry>fsoft_fl.tbch.var</td><td class=CDLDescription>Record the value range of sliced variables.&nbsp; These will be a guidance for picking up a value for the simulation for the variable not in the trace file.&nbsp; If the range is a particular value, it will be used in the simulation, instead of value 1 by default.</td></tr><tr><td class=CDLEntry>fsoft_fl.tbch.asg</td><td class=CDLDescription>Record the value (determinted by MB) of some special variables.&nbsp; For example, v = ITE(cond, v1, v2).&nbsp; If cond contains PI vars, v may be assigned a fixed value (such as 5) by model building.&nbsp; This information is logged and shall be loaded during witness generation.</td></tr><tr><td class=CDLEntry>fsoft_fl.tbch.blk</td><td class=CDLDescription>Record the equivalent error blocks.&nbsp; An error block is associated with a bunch of other error blocks.&nbsp; If any of these error blocks is reached during the simulation, tbench will claim that the error block is reached.</td></tr><tr><td class=CDLEntry>fsoft_fl.tbch.map</td><td class=CDLDescription>Record the new basic blocks not shown in the original CFG model.&nbsp; These new basic blocks are created during the function inline process.&nbsp; For the simulation, if a basic block number is a new one, its corresponding old one will be used for simulation.&nbsp; In particular, it may be recursively mapping from new block to another new block.&nbsp; The final original block should be located eventually for simulation.</td></tr><tr><td class=CDLEntry>fsoft_fl.tbch.cfg</td><td class=CDLDescription>Record the true guards of the modified CFG.&nbsp; In some circumstances, MB may change the UI conditions to TRUE and all the others to FALSE.&nbsp; These information has to be propogated to tbench for simulation.&nbsp; The current implementation is to modify original CFG at the beginning of the simulation and all the remaining stages are unchanged.</td></tr><tr><td class=CDLEntry>meminfo.ini</td><td class=CDLDescription>Record the value range of active variables.&nbsp; These will be a guidance for picking up a value for the simulation for the variable even it is in the trace file.&nbsp; If the range is a particular value, it will be used in the simulation, instead of value 1 by default.</td></tr></table><p><b>VAR Value Range:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>if min_init_value &gt; 0, use min_init_value</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>otherwise, if max_init_value &gt; 0, use 1.</td></tr><tr><td class=CDLEntry>3.</td><td class=CDLDescription>otherwise, use max_init_value.</td></tr></table><p><b>Two Steps for Integer Overflow:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>add overflow checker with &ldquo;long long&rdquo; in the evaluateExpression function call</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>add Malay&rsquo;s script in the checker.sh &amp; Controller</td></tr></table><p><b>Status:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>tried the 3rd &ldquo;dead-end&rdquo; case on sync_branch: it failed because of compiling; it could not run on old binary.&nbsp; But there is no &ldquo;dead-end&rdquo; when running on checker.sh</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>tried &ldquo;errno&rdquo; for detecting signed integer overflow, end up withing a sigal handle solution, which is not desirable because it terminates the regular program execution. see file ~/port/of.c</td></tr><tr><td class=CDLEntry>3.</td><td class=CDLDescription>&rdquo;long long&rdquo; should work for 32-bit machine, but what if 64-bit?</td></tr></table><p><b>Solution:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>The solution is to add an extra constraint field in the UIconstraints.</td></tr><tr><td class=CDLEntry>2.</td><td class=CDLDescription>Should change the UIconstraints access in loop_unroll</td></tr><tr><td class=CDLEntry>3.</td><td class=CDLDescription>Add these extra constraints for BMC solver.</td></tr><tr><td class=CDLEntry>4.</td><td class=CDLDescription>&rdquo;-W&rdquo; of the checker.sh will give a detailed list of the vrf file.</td></tr><tr><td class=CDLEntry>5.</td><td class=CDLDescription>for MC, add &ldquo;csr file&rdquo;, &ldquo;Max depth&rdquo;, &ldquo;Min depth&rdquo;, &ldquo;extra constraints&rdquo;</td></tr></table><blockquote><pre>+--------+  `
|   MB   |
+--------+  `
    |
    |
    |
    V
+--------+        +--------+
|   MC   | -----&gt; | Proved |-------------------------------------+
+--------+        +--------+                                     |
    |                                                            |
    |                                                            |
    |                                                            |
    V                                                            V
+---------+        +------------------------------+    Y     +-------+
| Witness | -----&gt; | Simulate on Original CFG ?   | -------&gt; | Done  |
+---------+        +------------------------------+          +-------+
                                    |
                                    | N
                                    |
                                    V
                   +------------------------------+           N
                   |    Add extra constraints     |---------------------+
                   |  and call MC, find witness?  |                     |
                   +------------------------------+                     |
                                    |                                   |
                                    | Y                                 |
                                    |                                   |
                                    V                                   V
                    +----------------------------+   N   +------------------------+
                    | Simulate on Original CFG ? | ----&gt; | Simulate on Final CFG  |
                    +----------------------------+       +------------------------+
                                    |
                                    | Y
                                    |
                                    V
                                +-------+     `
                                | Done  |
                                +-------+     `</pre></blockquote><p><b>Steps:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>A.</td><td class=CDLDescription>collect the bugs</td></tr><tr><td class=CDLEntry>B.</td><td class=CDLDescription>add constraints</td></tr><tr><td class=CDLEntry>C.</td><td class=CDLDescription>bmc re-run</td></tr><tr><td class=CDLEntry>D.</td><td class=CDLDescription>tbench on the final model (NEW FEATURE)</td></tr></table><p><b>Issues:</b></p><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>1.</td><td class=CDLDescription>when adding &ldquo;OBJINFO_PTR_OVERFLOW_CNSTRNT&rdquo; in the program, the constraint objects are changed because of the simplification.&nbsp; In other words, the mark is gone.</td></tr></table></div></div></div>

<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="TBench_source_file_missing"></a>TBench source file missing</h3><div class=CBody><p>refer to /home/st/weihong/Projects/CFG_TBench_Load/bugs/fsoft_A_gfsctl/main</p><p>requirement: make the *.c.html locally.</p><blockquote><pre></pre></blockquote><blockquote><pre></pre></blockquote><p><b>Varvel/FSoft CIL issue:</b></p><blockquote><pre></pre></blockquote><p>When there is error related to stub, e.g., start fsoft on the intermediate files generated by Varvel, a function foo was not defined in the fsoft_fl.cfg, what we can do is the follows.</p><p>1. put the define into fsoft_fl.i, and rename it to fsoft_fl.i.c</p><p>#define fSfT__assert_with_original_expression(A,B) fSfT__assert(A)</p><p>2. recompile fsoft_fl.i, using</p><p>gcc -E fsoft_fl.i.c &gt; fsoft_fl.i</p><p>3. rerun cparser like the following</p><p>~/Projects/BUG_FIX_TI_178/cparser/cparser  -r -L fsoft_fl.fle -F 2 -I fsoft_fl.ini -t 1 -g fsoft_fl.gvd -P 1  -k fSfT__assume -k fSfT__assert -k fSfT_preconds_start -k fSfT_preconds_end -k fSfT__clearIterators   -k fSfT__get_lo__ -k fSfT__get_hi__ -k fSfT__array_length__  -e func1 -E fsoft_fl.mai  -s fsoft_fl.std -S fsoft_fl.stn  -p fsoft_fl.pre  -R fsoft_fl.ren  -f fsoft_fl.flt  -o fsoft_fl.cfg fsoft_fl.i &gt; fsoft_fl.cpl</p></div></div></div>

</div><!--Content-->



<!--START_ND_TOOLTIPS-->
<!--END_ND_TOOLTIPS-->

<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>